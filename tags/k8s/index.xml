<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>k8s - Tag - YakuShou's NOTEBOOK</title><link>https://blog.yakushou.com/tags/k8s/</link><description>k8s - Tag - YakuShou's NOTEBOOK</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Mon, 03 Jan 2022 11:55:15 +0800</lastBuildDate><atom:link href="https://blog.yakushou.com/tags/k8s/" rel="self" type="application/rss+xml"/><item><title>kind</title><link>https://blog.yakushou.com/posts/k8s/kind/</link><pubDate>Mon, 03 Jan 2022 11:55:15 +0800</pubDate><author><name>yakushou730</name><uri>https://github.com/yakushou730</uri><email>yakushou730@gmail.com</email></author><guid>https://blog.yakushou.com/posts/k8s/kind/</guid><description>kind official page
kind 可以用來在 local 建立 k8s cluster
# 安裝 kind brew install kind # 建立 cluster kind create cluster # 查看 clusters kind get clusters # 查看 kind 的 kubeconfig kind get kubeconfig # 切換到 kind cluster kubectl config use-context kind-kind # 查看 cluster 狀態 kubectl cluster-info</description></item><item><title>YAML Files</title><link>https://blog.yakushou.com/posts/k8s/yaml-files/</link><pubDate>Tue, 28 Dec 2021 19:02:38 +0800</pubDate><author><name>yakushou730</name><uri>https://github.com/yakushou730</uri><email>yakushou730@gmail.com</email></author><guid>https://blog.yakushou.com/posts/k8s/yaml-files/</guid><description>General YAML template 必要的 4 個欄位
apiVersion:# 要用來建立物件的 k8s API 版本 kind:# 要建立的物件metadata:# 物件的其他資訊，如 name, labels...spec:# 建立物件需要的訊息 apiVersion (string) POD: v1 Service: v1 ReplicaSet: apps/v1 Deployment: apps/v1 kind (string) Pod Service ReplicaSet Deployment metadata (dictionary) name labels labels 下的 key/value 值是可以自訂的 spec (dictionary) 指令:
# 可以看介紹 kubectl explain &amp;lt;k8s kind&amp;gt; POD with YAML pod-definition.yaml
apiVersion:v1kind:Podmetadata:name:myapp-podlabels:app:myapptype:front-endspec:containers:- name:nginx-containerimage:nginx指令
# 建立 kubectl create -f pod-definition.</description></item><item><title>concepts</title><link>https://blog.yakushou.com/posts/k8s/concepts/</link><pubDate>Tue, 28 Dec 2021 14:35:13 +0800</pubDate><author><name>yakushou730</name><uri>https://github.com/yakushou730</uri><email>yakushou730@gmail.com</email></author><guid>https://blog.yakushou.com/posts/k8s/concepts/</guid><description>概念 Container + Orchestration
k8s 是一種容器編排技術，用於協調數百個對象的部署和管理 cluster 中的數千個容器
VM vs Docker VM 是在 原本的 OS 上，再額外起來的完整的虛擬機器，具有完整的虛擬 OS 每個 VM 裡面除了 OS 外還有各自的 libs 和 deps 動輒以 GB 為單位 啟動速度慢 Docker 是基於原本的內核，起起來的 container libs 和 deps 在各自容器內 大約以 MB 為單位 啟動速度快 術語 node (minion) 安裝了 k8s 的機器，container 會起在這上面 cluster 一組複數個 nodes ( 1 個 master / 多個 worker) 會有一台 master node，負責監管和負責流程編排 node 上 的 container components 安裝 k8s 時，會安裝的一些元件 API server 可以作為 k8s 的前端 etcd key-value store 確保 master 間沒有 conflict kubelet 每個 node 都會安裝的 agent 確保 container 可以運作在 node 上 container runtime 用來跑 container 的環境 (ex: Docker) controller orchestration 的大腦，在 nodes / containers 發生故障時發出通知和回應 決定是否建立新的 container scheduler 分配 container 給 nodes master 上 會安裝 kube-apiserver 會安裝 etcd 儲存資訊 會安裝 controller 會安裝 scheduler worker 上 會安裝 kubelet 和 master 溝通</description></item><item><title>basic for beginner</title><link>https://blog.yakushou.com/posts/k8s/basic-for-beginner/</link><pubDate>Fri, 24 Dec 2021 11:28:29 +0800</pubDate><author><name>yakushou730</name><uri>https://github.com/yakushou730</uri><email>yakushou730@gmail.com</email></author><guid>https://blog.yakushou.com/posts/k8s/basic-for-beginner/</guid><description><![CDATA[從 AWS EKS 下載 k8s config 範例:
aws eks --region ap-southeast-1 update-kubeconfig --name &lt;cluster-name&gt; --kubeconfig &lt;the name that we download to local&gt; 載下來的 kube config 如何載入 載下來的 config 可以放到 ~/.kube 內
然後在 bash profile 設定環境變數 KUBECONFIG
# k8s config setting export KUBECONFIG=~/.kube/service-prod-config:\ ~/.kube/service-staging-config 使用 context # 取得 context list  kubectl config get-contexts # 使用特定 context kubectl config use-context &lt;context name&gt; # 詢問當前 context kubectl config current-context 使用 kubectx 可快速切換 k8s context 的工具]]></description></item></channel></rss>