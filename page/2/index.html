<!doctype html><html lang=en>
<head>
<meta name=generator content="Hugo 0.89.2">
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<title class=pjax-title>YakuShou's NOTEBOOK</title><meta name=Description content><meta property="og:title" content="YakuShou's NOTEBOOK">
<meta property="og:description" content>
<meta property="og:type" content="website">
<meta property="og:url" content="https://blog.yakushou.com/">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="YakuShou's NOTEBOOK">
<meta name=twitter:description content>
<meta name=application-name content="YakuShou's NOTEBOOK">
<meta name=apple-mobile-web-app-title content="YakuShou's NOTEBOOK">
<meta name=theme-color content="#f8f8f8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=canonical href=https://blog.yakushou.com/><link rel=alternate href=/index.xml type=application/rss+xml title="YakuShou's NOTEBOOK">
<link rel=feed href=/index.xml type=application/rss+xml title="YakuShou's NOTEBOOK"><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=preload as=style onload="this.onload=null,this.rel='stylesheet'" href=/lib/fontawesome-free/all.min.css>
<noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload as=style onload="this.onload=null,this.rel='stylesheet'" href=/lib/animate/animate.min.css>
<noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/blog.yakushou.com\/","inLanguage":"en","name":"YakuShou's NOTEBOOK"}</script></head>
<body header-desktop header-mobile><script type=text/javascript>function setTheme(a){document.body.setAttribute('theme',a)}function saveTheme(a){window.localStorage&&localStorage.setItem('theme',a)}function getMeta(b){const a=document.getElementsByTagName('meta');for(let c=0;c<a.length;c++)if(a[c].getAttribute('name')===b)return a[c];return''}if(window.localStorage&&localStorage.getItem('theme')){let a=localStorage.getItem('theme');a==='light'||a==='dark'||a==='black'?setTheme(a):window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches?setTheme('dark'):setTheme('light')}else''==='light'||''==='dark'||''==='black'?(setTheme(''),saveTheme('')):(saveTheme('auto'),window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches?setTheme('dark'):setTheme('light'));let metaColors={light:'#f8f8f8',dark:'#252627',black:'#000000'};getMeta('theme-color').content=metaColors[document.body.getAttribute('theme')]</script>
<div id=back-to-top></div>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title="YakuShou's NOTEBOOK">YakuShou's NOTEBOOK</a>
</div>
<div class=menu>
<div class=menu-inner><a class=menu-item href=/posts/> Posts </a><a class=menu-item href=/tags/> Tags </a><span class="menu-item delimiter"></span><a href=# onclick=return!1 class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a></div>
</div>
</div>
</header><header class=mobile id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title="YakuShou's NOTEBOOK">YakuShou's NOTEBOOK</a>
</div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a href=# onclick=return!1 class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a></div>
</div>
</header>
<div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div>
</div>
<div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div>
</div>
<main class=main>
<div class=container><div class="page home" posts><div class=home-profile></div>
<article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline">
<a href=/posts/aws/iam/>iam</a>
</h1><div class=post-meta>
<span class=post-author><span class=author><i class="author fas fa-user-circle fa-fw"></i><span class=screen-reader-text> </span><a href=https://blog.yakushou.com/authors/yakushou730>yakushou730</a></span>
</span>&nbsp;<span class=post-publish>published on <time datetime=2022-02-07>2022-02-07</time></span></div><div class=content>設定帳戶密碼失敗 可能是碰到需要 MFA 操作，但是在剛建立使用者的時候還沒有 MFA 的關係
AWS: Allows MFA-authenticated IAM users to manage their own credentials on the My Security Credentials page
AWS IAM won&rsquo;t let my users change their passwords
做法有兩種
改 policy 的規則，讓變更密碼這件事不需要 MFA (官方說不推薦這做法) 砍掉帳號重新建立一個，然後先不要勾 Require password reset，等他登入後設定完 MFA，這樣之後就可以改密碼了 </div><div class=post-footer>
<a href=/posts/aws/iam/>Read more...</a><div class=post-tags>
<i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/aws/>aws</a>,&nbsp;<a href=/tags/devops/>devops</a></div></div>
</article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline">
<a href=/posts/programming/database/mysql/>Mysql</a>
</h1><div class=post-meta>
<span class=post-author><span class=author><i class="author fas fa-user-circle fa-fw"></i><span class=screen-reader-text> </span><a href=https://blog.yakushou.com/authors/yakushou730>yakushou730</a></span>
</span>&nbsp;<span class=post-publish>published on <time datetime=2022-01-27>2022-01-27</time></span></div><div class=content>使用者相關 要注意的是 User, Host 的搭配會影響到使用者可不可以登入
或是登入後的權限不同
% 指的是 localhost
::1 指的是 Ipv6 的 localhost
How to delete or remove a MySQL/MariaDB user account on Linux/Unix
How To Create a New User and Grant Permissions in MySQL
Grant_Priv 欄位是指可不可以更換權限
# 檢視 user 欄位 descmysql.user;# 顯示當前使用者 SELECTuser();# 搜尋使用者 SELECT*FROMmysql.user;# 建立使用者 CREATEUSER'shou'@'%'IDENTIFIEDBY'password';CREATEUSER'academy'@'172.123.0.0/255.255.0.0'IDENTIFIEDBY'password';# 更改使用者密碼 ALTERUSER'shou'@'%'IDENTIFIEDBY'newPass';# 刷新權限 FLUSHPRIVILEGES;# 給予使用者權限 GRANTALLPRIVILEGESON*.*TO'shou'@'%';GRANTSELECTON*.*TO'shou'@'%';# 查詢權限 SHOWGRANTSFOR'shou'@'%';# 刪除使用者 DROPUSER'shou'@'%';Reset table index ALTERTABLE[table_name]AUTO_INCREMENT=0;</div><div class=post-footer>
<a href=/posts/programming/database/mysql/>Read more...</a><div class=post-tags>
<i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/programming/>programming</a>,&nbsp;<a href=/tags/sql/>sql</a></div></div>
</article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline">
<a href=/posts/kodekloud/the-linux-basics-course/>The Linux Basics Course</a>
</h1><div class=post-meta>
<span class=post-author><span class=author><i class="author fas fa-user-circle fa-fw"></i><span class=screen-reader-text> </span><a href=https://blog.yakushou.com/authors/yakushou730>yakushou730</a></span>
</span>&nbsp;<span class=post-publish>published on <time datetime=2022-01-24>2022-01-24</time></span></div><div class=content>The Linux Basics Course
Working with Shell - I / 是根目錄
/home 是所有使用者的家目錄放置的位置
比如一個使用者叫做 shou，那 shou 的家目錄就在 /home/shou
一般使用者不能訪問其他使用者的家目錄
家目錄的標記為 ~ 英文是 tilde
flag 通常是 一個單字 配一個 - hyphen
. 代表當前目錄 .. 代表上一層目錄 通常指令要找 help 的話可以在指令後方加上 -h 或 --help
$HOME 是家目錄的環境變數
Shell Types
Bourne Shell (sh) C Shell (csh or tcsh) Korn Shell (ksh) Z Shell (zsh) Bourne again Shell (bash) # 查看當前是用哪種 shell echo $SHELL Bash Shell Features</div><div class=post-footer>
<a href=/posts/kodekloud/the-linux-basics-course/>Read more...</a><div class=post-tags>
<i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/programming/>programming</a>,&nbsp;<a href=/tags/devops/>devops</a></div></div>
</article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline">
<a href=/posts/golang/ardanlabs/ultimate-service-v3/>Ultimate Service V3</a>
</h1><div class=post-meta>
<span class=post-author><span class=author><i class="author fas fa-user-circle fa-fw"></i><span class=screen-reader-text> </span><a href=https://blog.yakushou.com/authors/yakushou730>yakushou730</a></span>
</span>&nbsp;<span class=post-publish>published on <time datetime=2022-01-23>2022-01-23</time></span></div><div class=content>Github repo
整理了下，如果整個 cluster 重啟，要跑哪些步驟
# 把 cluster shutdown make kind-down # 1. 啟動 kind make kind-up # 2. build 新的 service image make all # 3. 設定 kind 要抓本機的 image make kind-load # 4. 設定 kind cluster 要吃本機的 config 設定 make kind-apply # extra: 看 log make kind-logs # extra: 直接更新 kind 設定 # all + kind-load + kind-restart make kind-update Modules Project:
a repo of code defines the philosophy, policy and guideline go mod init [module name] # 範例 go mod init github.</div><div class=post-footer>
<a href=/posts/golang/ardanlabs/ultimate-service-v3/>Read more...</a><div class=post-tags>
<i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/programming/>programming</a>,&nbsp;<a href=/tags/golang/>golang</a></div></div>
</article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline">
<a href=/posts/golang/ardanlabs/ultimate-go/>Ultimate Go</a>
</h1><div class=post-meta>
<span class=post-author><span class=author><i class="author fas fa-user-circle fa-fw"></i><span class=screen-reader-text> </span><a href=https://blog.yakushou.com/authors/yakushou730>yakushou730</a></span>
</span>&nbsp;<span class=post-publish>published on <time datetime=2022-01-22>2022-01-22</time></span></div><div class=content>Design Guideline Memory & Data semantics </div><div class=post-footer>
<a href=/posts/golang/ardanlabs/ultimate-go/>Read more...</a><div class=post-tags>
<i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/programming/>programming</a>,&nbsp;<a href=/tags/golang/>golang</a></div></div>
</article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline">
<a href=/posts/golang/ardanlabs/refactor-with-bill/>Refactor With Bill</a>
</h1><div class=post-meta>
<span class=post-author><span class=author><i class="author fas fa-user-circle fa-fw"></i><span class=screen-reader-text> </span><a href=https://blog.yakushou.com/authors/yakushou730>yakushou730</a></span>
</span>&nbsp;<span class=post-publish>published on <time datetime=2022-01-22>2022-01-22</time></span></div><div class=content>Project init 結構會是先建出下列資料夾 (一個 repo 可以執行多個 binary 的結構)
再來是做 go mod init [name]
# 可執行的程式入口 cmd/violin/css/ cmd/violin/image/ cmd/violin/mp3/ cmd/violin/templates/ cmd/violin/internal/ cmd/violin/main.go # 商業邏輯 internal/platform/ go.mod 起手式 main.go
func main(){ if err := run(); err != nil { log.Println(err) os.Exit(1) } } func run() { return nil } </div><div class=post-footer>
<a href=/posts/golang/ardanlabs/refactor-with-bill/>Read more...</a><div class=post-tags>
<i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/programming/>programming</a>,&nbsp;<a href=/tags/golang/>golang</a></div></div>
</article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline">
<a href=/posts/golang/ardanlabs/ultimate-syntax/>ultimate syntax</a>
</h1><div class=post-meta>
<span class=post-author><span class=author><i class="author fas fa-user-circle fa-fw"></i><span class=screen-reader-text> </span><a href=https://blog.yakushou.com/authors/yakushou730>yakushou730</a></span>
</span>&nbsp;<span class=post-publish>published on <time datetime=2022-01-18>2022-01-18</time></span></div><div class=content>Variables 一般來說使用 int 較多，而不是 int32 或 int64 少用 := zero value，碰到 zero value 的話不如直接用 var 宣吿 Strings string 是 2 words 的 data structures 空字串 第一個 word 是 nil 第二個 word 是 0 字串 Hello 第一個 word 是指標，指向 hello 陣列的 h 位址 第二個 word 是長度 5 Struct golang 的三種印出格式
%v -> {false 0 0} %+v -> {flag:false counter:0 pi:0} %#v -> main.</div><div class=post-footer>
<a href=/posts/golang/ardanlabs/ultimate-syntax/>Read more...</a><div class=post-tags>
<i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/programming/>programming</a>,&nbsp;<a href=/tags/golang/>golang</a></div></div>
</article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline">
<a href=/posts/programming/tools/>tools</a>
</h1><div class=post-meta>
<span class=post-author><span class=author><i class="author fas fa-user-circle fa-fw"></i><span class=screen-reader-text> </span><a href=https://blog.yakushou.com/authors/yakushou730>yakushou730</a></span>
</span>&nbsp;<span class=post-publish>published on <time datetime=2022-01-10>2022-01-10</time></span></div><div class=content>cloc https://github.com/AlDanial/cloc
計算 檔案數量 / 行數 等等的工具
可以使用 docker container 來跑，就不用安裝 binary
# 最後的 . 是指當前目錄，可以換成對應的目錄 docker run --rm -v $PWD:/tmp aldanial/cloc . commitizen https://github.com/commitizen/cz-cli
可以簡單產生 commitizen 的 git commit
https://www.conventionalcommits.org/en/v1.0.0/
安裝:
npm install commitizen commitizen init cz-conventional-changelog --save-dev --save-exact </div><div class=post-footer>
<a href=/posts/programming/tools/>Read more...</a><div class=post-tags>
<i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/programming/>programming</a></div></div>
</article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline">
<a href=/posts/k8s/certified-k8s-administrator/>Certified K8s Administrator</a>
</h1><div class=post-meta>
<span class=post-author><span class=author><i class="author fas fa-user-circle fa-fw"></i><span class=screen-reader-text> </span><a href=https://blog.yakushou.com/authors/yakushou730>yakushou730</a></span>
</span>&nbsp;<span class=post-publish>published on <time datetime=2022-01-09>2022-01-09</time></span></div><div class=content>Core Concepts k8s 的目的是要以自動化的形式管理 container 形式的 app
讓使用者可以簡單的部署，並讓各服務的溝通可以簡單化
解說:
假設現在有兩艘船，cargo ship 和 control ship
Cargo Ship 負責實際運載 container 的工作 每艘船的船長，負責管理船上的 activities，負責接收當 master 需要裝載 container 時的資訊， 並回報給 master 這艘船的狀態和 container 的狀態 Control Ship 負責監測和管理 cargo ships 透過 control plane 元件負責管理 cargo ship 的大小事 ETCD: 每天都有很多 container 要被載到 cargo ships 上，所以需要紀錄不同的船上有哪個 container，包含載入的時間 而這些是以 key-value 的形式被保存的 kube-scheduler: 當 cargo ship 來的時候，要負責判斷並把對應的 container 奘載給他 Controller manager: 指派特殊工作，例: operation team 要處理交通控制，或是 container 壞掉的時候，怎麼樣建立一個可以用的 container service office 用來讓各部門溝通，或是讓不同的船之間溝通 最高部門: kube-apiserver，各部門之間管理的最高層級，負責 Cluster 的工作協調 對應到 k8s 的名詞</div><div class=post-footer>
<a href=/posts/k8s/certified-k8s-administrator/>Read more...</a><div class=post-tags>
<i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/programming/>programming</a>,&nbsp;<a href=/tags/k8s/>k8s</a></div></div>
</article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline">
<a href=/posts/k8s/helm/>helm</a>
</h1><div class=post-meta>
<span class=post-author><span class=author><i class="author fas fa-user-circle fa-fw"></i><span class=screen-reader-text> </span><a href=https://blog.yakushou.com/authors/yakushou730>yakushou730</a></span>
</span>&nbsp;<span class=post-publish>published on <time datetime=2022-01-06>2022-01-06</time></span></div><div class=content>What is Helm 一般來說，要 deploy 一個服務，即使是簡單的 app
也要建立一整套完整的 k8s 元件
ex: Secret, Deployment, Service, PersistentVolumeClaim&mldr; 等等，需要 apply 一堆 yaml 檔案
Helm 被稱為 k8s 的 package manager
想像一個遊戲由千百個檔案組成
我們不需要自己處理那摩多檔案，透過安裝程式的方式
做到一次安裝一個完整的遊戲，對應的檔案也都被安裝到正確的位置
而 Helm 就像這樣，一次處理一堆 YAML 檔案和 K8s 物件，來設定 application
Helm 讓我們操作 k8s 的元件就像操作 app 一樣，而不是一堆檔案物件
# 透過 helm 安裝 wordpress helm install wordpress # 修改完 yaml 檔案套用 helm upgrade wordpress # 可倒退版本 helm rollback wordpress # 移除 wordpress helm uninstall wordpress # debug 資訊 helm --debug Helm2 vs Helm3 Helm3 多了</div><div class=post-footer>
<a href=/posts/k8s/helm/>Read more...</a><div class=post-tags>
<i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/programming/>programming</a>,&nbsp;<a href=/tags/k8s/>k8s</a></div></div>
</article><ul class=pagination><li class=page-item>
<span class=page-link>
<a href=/>1</a>
</span>
</li><li class="page-item active">
<span class=page-link>
<a href=/page/2/>2</a>
</span>
</li><li class=page-item>
<span class=page-link>
<a href=/page/3/>3</a>
</span>
</li><li class=page-item>
<span class=page-link>
<a href=/page/4/>4</a>
</span>
</li><li class=page-item>
<span class=page-link aria-hidden=true>&mldr;</span>
</li><li class=page-item>
<span class=page-link>
<a href=/page/7/>7</a>
</span>
</li></ul></div></div>
</main><footer class=footer>
<div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.89.2">Hugo</a> | Theme - <a href=https://github.com/HEIGE-PCloud/DoIt target=_blank rel="noopener noreffer" title="DoIt 0.2.13"><i class="far fa-edit fa-fw"></i> DoIt</a>
</div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank rel="noopener noreferrer"></a></span></div>
</div></footer></div>
<div id=fixed-buttons><a href=#back-to-top id=back-to-top-button class=fixed-button title="Back to Top">
<i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments">
<i class="fas fa-comment fa-fw"></i>
</a>
</div><div class=assets><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/topbar/topbar.min.js></script><script type=text/javascript src=/lib/pjax/pjax.min.js></script><script type=text/javascript src=/js/theme.min.js></script></div>
<div class=pjax-assets><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10}}</script></div>
</body>
</html>